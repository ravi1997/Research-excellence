{% extends "layout.html" %}

{% block title %}Research Metrics - Research Submission{% endblock %}

{% block content %}
<div class="container">
    <div class="research-container">
        <h2>Research Metrics & Analytics</h2>
        
        <div class="metrics-filters">
            <div class="filter-group">
                <label for="period-filter">Period:</label>
                <select id="period-filter">
                    <option value="year">Last Year</option>
                    <option value="quarter">Last Quarter</option>
                    <option value="month">Last Month</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="department-filter">Department:</label>
                <select id="department-filter">
                    <option value="all">All Departments</option>
                    <!-- Departments will be populated by JavaScript -->
                </select>
            </div>
            
            <button id="apply-filters" class="btn btn-primary">Apply Filters</button>
        </div>
        
        <div class="metrics-dashboard">
            <div class="metrics-section">
                <h3>Publication Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Total Publications</h4>
                        <p class="metric-value" id="total-publications">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>Citations</h4>
                        <p class="metric-value" id="total-citations">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>h-index</h4>
                        <p class="metric-value" id="h-index">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>Average Impact Factor</h4>
                        <p class="metric-value" id="avg-impact-factor">0.0</p>
                    </div>
                </div>
            </div>
            
            <div class="metrics-section">
                <h3>Award Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Total Awards</h4>
                        <p class="metric-value" id="total-awards">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>National Awards</h4>
                        <p class="metric-value" id="national-awards">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>International Awards</h4>
                        <p class="metric-value" id="international-awards">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>Award Rate</h4>
                        <p class="metric-value" id="award-rate">0%</p>
                    </div>
                </div>
            </div>
            
            <div class="metrics-section">
                <h3>Research Project Metrics</h3>
                <div class="metrics-grid">
                    <div class="metric-card">
                        <h4>Active Projects</h4>
                        <p class="metric-value" id="active-projects">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>Completed Projects</h4>
                        <p class="metric-value" id="completed-projects">0</p>
                    </div>
                    <div class="metric-card">
                        <h4>Project Success Rate</h4>
                        <p class="metric-value" id="project-success-rate">0%</p>
                    </div>
                    <div class="metric-card">
                        <h4>Average Project Duration</h4>
                        <p class="metric-value" id="avg-project-duration">0 months</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="charts-section">
            <div class="chart-container">
                <h3>Publications Over Time</h3>
                <canvas id="publications-chart"></canvas>
            </div>
            <div class="chart-container">
                <h3>Citations by Category</h3>
                <canvas id="citations-chart"></canvas>
            </div>
            <div class="chart-container">
                <h3>Awards by Department</h3>
                <canvas id="awards-chart"></canvas>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/research_metrics.js') }}"></script>
{% endblock %}