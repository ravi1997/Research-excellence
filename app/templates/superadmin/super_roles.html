{% extends "components/layout.html" %}

{% block title %}Role Management · Super Admin{% endblock %}

{% block content %}
<div class="max-w-auto mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
    <!-- Breadcrumbs -->
    <nav class="flex items-center text-sm text-gray-500 dark:text-gray-400" aria-label="Breadcrumb">
        <ol class="flex items-center gap-2">
            <li>
                <a href="{{ url_for('view_bp.index') }}"
                   class="inline-flex items-center gap-2 transition-colors hover:text-blue-60 dark:hover:text-blue-400">
                    <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path d="M10.707 1.707a1 1 0 00-1.414 0l-7.5 7.5a1 1 0 101.414 1.414L4 9.414V17a1 0 001 1h3a1 1 0 001-1v-2a1 1 0 012 0v2a1 1 0 001 1h3a1 1 0 001-1V9.414l0.793 0.793a1 1 0 101.414-1.414l-7.5-7.5z"/>
                    </svg>
                    Home
                </a>
            </li>
            <li aria-hidden="true" class="text-gray-300 dark:text-gray-600">/</li>
            <li>
                <span class="text-gray-700 dark:text-gray-300 font-medium">Role Management</span>
            </li>
        </ol>
    </nav>

    <!-- Page heading -->
    <header class="flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between">
        <div class="space-y-2">
            <h1 class="text-3xl font-extrabold tracking-tight text-gray-900 dark:text-white">
                Super Administrator · Role Management
            </h1>
            <p class="max-w-2xl text-sm leading-6 text-gray-600 dark:text-gray-300">
                Maintain the full directory of portal roles. Create, document, and manage permissions from a single responsive workspace.
            </p>
        </div>
        <div class="flex flex-wrap items-center gap-3">
            <button
                id="bulk-actions-btn"
                type="button"
                class="inline-flex items-center gap-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-200 shadow-sm transition focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50"
                disabled
                aria-controls="bulk-confirm-modal"
                aria-haspopup="dialog"
            >
                <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                </svg>
                Bulk actions (<span id="selected-count">0</span>)
            </button>
            <button
                id="add-role-btn"
                type="button"
                class="inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900"
                aria-controls="role-modal"
                aria-haspopup="dialog"
            >
                <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                </svg>
                Add role
            </button>
        </div>
    </header>

    <!-- Metrics -->
    <section class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
        <article class="rounded-2xl border-gray-200 bg-white p-5 shadow-sm transition hover:shadow-md dark:border-gray-700 dark:bg-gray-900">
            <div class="flex items-center justify-between">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-40">Total roles</dt>
                <span class="inline-flex items-center rounded-full bg-blue-100 px-2.5 py-0.5 text-xs font-semibold text-blue-700 dark:bg-blue-50/20 dark:text-blue-200">Directory</span>
            </div>
            <dd id="metric-total-roles" class="mt-3 text-3xl font-semibold text-gray-900 dark:text-white">0</dd>
            <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">Across all departments and categories</p>
        </article>
        <article class="rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition hover:shadow-md dark:border-gray-700 dark:bg-gray-900">
            <div class="flex items-center justify-between">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Documented</dt>
                <span class="inline-flex items-center rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-semibold text-green-70 dark:bg-green-500/20 dark:text-green-20">Active</span>
            </div>
            <dd id="metric-documented-roles" class="mt-3 text-3xl font-semibold text-gray-900 dark:text-white">0</dd>
            <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">Roles with curated labels or descriptions</p>
        </article>
        <article class="rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition hover:shadow-md dark:border-gray-700 dark:bg-gray-900">
            <div class="flex items-center justify-between">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Protected</dt>
                <span class="inline-flex items-center rounded-full bg-amber-100 px-2.5 py-0.5 text-xs font-semibold text-amber-700 dark:bg-amber-500/20 dark:text-amber-200">Security</span>
            </div>
            <dd id="metric-protected-roles" class="mt-3 text-3xl font-semibold text-gray-900 dark:text-white">0</dd>
            <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">System roles that remain locked</p>
        </article>
        <article class="rounded-2xl border border-gray-200 bg-white p-5 shadow-sm transition hover:shadow-md dark:border-gray-700 dark:bg-gray-900">
            <div class="flex items-center justify-between">
                <dt class="text-sm font-medium text-gray-500 dark:text-gray-400">Last updated</dt>
                <span class="inline-flex items-center rounded-full bg-purple-100 px-2.5 py-0.5 text-xs font-semibold text-purple-700 dark:bg-purple-500/20 dark:text-purple-200">Sync</span>
            </div>
            <dd id="metric-last-sync" class="mt-3 text-3xl font-semibold text-gray-900 dark:text-white">—</dd>
            <p class="mt-2 text-xs text-gray-500 dark:text-gray-400">The most recent moment the catalogue was synchronised</p>
        </article>
    </section>

    <!-- Filters & table -->
    <section class="rounded-2xl border border-gray-200 bg-white shadow-xl shadow-black/5 ring-1 ring-black/5 dark:border-gray-800 dark:bg-gray-900 dark:ring-white/5">
        <div class="border-b border-gray-200 px-4 py-4 dark:border-gray-800 sm:px-6">
            <div class="flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between">
                <div class="space-y-1">
                    <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Role Directory</h2>
                    <p id="directory-caption" class="text-sm text-gray-600 dark:text-gray-400">
                        <span id="visible-count">0</span> roles shown · Page <span id="current-page">1</span> of <span id="total-pages">1</span>
                    </p>
                </div>
                <div class="flex flex-wrap gap-3">
                    <div class="relative flex-1 min-w-[220px]">
                        <label for="role-search" class="sr-only">Search roles</label>
                        <input
                            id="role-search"
                            type="search"
                            autocomplete="off"
                            placeholder="Search by identifier, label, or description"
                            class="w-full rounded-lg border border-gray-300 bg-white py-2 pl-10 pr-12 text-sm text-gray-900 placeholder:text-gray-400 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100 dark:placeholder:text-gray-500"
                        >
                        <span class="pointer-events-none absolute inset-y-0 left-3 flex items-center text-gray-400">
                            <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-5.2-5.2m1.2-3A6 6 0 1011 17h0a6 6 0 006-6z"/>
                            </svg>
                        </span>
                        <button
                            id="clear-search"
                            type="button"
                            class="absolute inset-y-0 right-2 hidden items-center text-gray-400 transition hover:text-gray-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 dark:text-gray-500 dark:hover:text-gray-300"
                        >
                            <span class="sr-only">Clear search</span>
                            <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M5.2 5.22a.75.75 0 011.06 0L10 8.94l3.72-3.72a.75.75 0 111.06 1.06L11.06 10l3.72 3.72a.75.75 0 11-1.06 1.06L10 11.06l-3.72 3.72a.75.75 0 01-1.06-1.06L8.94 10 5.22 6.28a.75.75 0 010-1.06z" clip-rule="evenodd"/>
                            </svg>
                        </button>
                    </div>
                    <div>
                        <label for="status-filter" class="sr-only">Filter by status</label>
                        <select
                            id="status-filter"
                            class="min-w-[140px] rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"
                        >
                            <option value="all">All statuses</option>
                            <option value="active">Active</option>
                            <option value="protected">Protected</option>
                        </select>
                    </div>
                    <button
                        id="search-btn"
                        type="button"
                        class="inline-flex items-center gap-2 rounded-lg border border-transparent bg-gray-900 px-4 py-2 text-sm font-medium text-white transition hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 dark:bg-gray-100 dark:text-gray-900 dark:hover:bg-gray-200"
                    >
                        Apply filters
                    </button>
                </div>
            </div>
        </div>

        <!-- Table wrapper -->
        <div class="relative">
            <!-- Loading state -->
            <div id="loading-indicator" class="absolute inset-0 z-10 hidden rounded-b-2xl bg-white/90 dark:bg-gray-90/90">
                <div class="flex h-full flex-col justify-center gap-6 px-6">
                    <div class="flex items-center gap-3 text-sm font-medium text-gray-500 dark:text-gray-400">
                        <svg class="h-5 w-5 animate-spin text-blue-500" viewBox="0 0 24 24" fill="none">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4l3-3-3v4a8 8 0 00-8 8h4z"/>
                        </svg>
                        Loading directory&hellip;
                    </div>
                    <div class="grid gap-3 sm:grid-cols-2 lg:grid-cols-3">
                        {% for _ in [1, 2, 3, 4, 5, 6] %}
                        <div class="space-y-3 rounded-xl border border-gray-200 p-4 dark:border-gray-800">
                            <div class="h-4 w-24 animate-pulse rounded bg-gray-200 dark:bg-gray-700"></div>
                            <div class="h-3 w-full animate-pulse rounded bg-gray-100 dark:bg-gray-800"></div>
                            <div class="flex gap-2">
                                <div class="h-6 w-12 animate-pulse rounded-full bg-gray-100 dark:bg-gray-800"></div>
                                <div class="h-6 w-16 animate-pulse rounded-full bg-gray-100 dark:bg-gray-800"></div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200 text-left text-sm text-gray-700 dark:divide-gray-800 dark:text-gray-20" aria-describedby="directory-caption">
                    <thead class="bg-gray-50 dark:bg-gray-800/50">
                        <tr>
                            <th scope="col" class="px-6 py-4">
                                <span class="sr-only">Select all roles</span>
                                <input id="select-all-roles" type="checkbox" class="h-4 w-4 rounded border-gray-30 text-blue-600 focus:ring-blue-500 dark:border-gray-60">
                            </th>
                            <th scope="col" class="px-6 py-4">
                                <button type="button" class="flex items-center gap-1 text-sm font-semibold text-gray-600 transition hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400" data-sort="identifier" aria-sort="none">
                                    Identifier
                                    <span class="sort-icon flex flex-col text-[10px] leading-none opacity-40">
                                        <span>▲</span><span>▼</span>
                                    </span>
                                </button>
                            </th>
                            <th scope="col" class="px-6 py-4">
                                <button type="button" class="flex items-center gap-1 text-sm font-semibold text-gray-600 transition hover:text-blue-600 dark:text-gray-30 dark:hover:text-blue-400" data-sort="label" aria-sort="none">
                                    Display Label
                                    <span class="sort-icon flex flex-col text-[10px] leading-none opacity-40">
                                        <span>▲</span><span>▼</span>
                                    </span>
                                </button>
                            </th>
                            <th scope="col" class="px-6 py-4">
                                <button type="button" class="flex items-center gap-1 text-sm font-semibold text-gray-600 transition hover:text-blue-600 dark:text-gray-300 dark:hover:text-blue-400" data-sort="description" aria-sort="none">
                                    Description
                                    <span class="sort-icon flex flex-col text-[10px] leading-none opacity-40">
                                        <span>▲</span><span>▼</span>
                                    </span>
                                </button>
                            </th>
                            <th scope="col" class="px-6 py-4">
                                <span class="text-sm font-semibold text-gray-60 dark:text-gray-300">Status</span>
                            </th>
                            <th scope="col" class="px-6 py-4 text-right">
                                <span class="sr-only">Actions</span>
                            </th>
                        </tr>
                    </thead>
                    <tbody id="roles-table-body" class="divide-y divide-gray-200 dark:divide-gray-800">
                        <!-- Populated by super_roles.js -->
                    </tbody>
                </table>
            </div>

            <!-- Empty state -->
            <div id="empty-state" class="hidden border-t border-gray-200 px-6 py-16 text-center dark:border-gray-800">
                <div class="mx-auto max-w-md space-y-4 text-gray-50 dark:text-gray-400">
                    <svg class="mx-auto h-12 w-12 text-gray-300 dark:text-gray-60" viewBox="0 24 24" fill="none">
                        <path stroke="currentColor" stroke-width="1.5" d="M7 4h10a2 2 0 012 2v1H5V6a2 2 0 012-2zM5 9h14v9a2 2 0 01-2 2H7a2 2 0 01-2-2V9z"/>
                    </svg>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-white">No roles found</h3>
                    <p class="text-sm">Try adjusting your filters or search terms. You can also create a new role directly.</p>
                    <div class="flex flex-wrap items-center justify-center gap-3">
                        <button id="reset-filters" type="button" class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm transition hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-10 dark:hover:bg-gray-700">
                            Reset filters
                        </button>
                        <button type="button" id="empty-add-role" class="inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900">
                            Add a role
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="flex flex-col gap-3 border-t border-gray-200 px-4 py-4 text-sm text-gray-600 dark:border-gray-800 dark:text-gray-300 sm:flex-row sm:items-center sm:justify-between sm:px-6">
            <div class="flex items-center gap-3">
                <p>
                    Showing <span id="start-item">0</span> to <span id="end-item">0</span> of <span id="total-count">0</span> roles
                </p>
                <span class="hidden items-center gap-1 rounded-full bg-blue-50 px-2 py-0.5 text-xs font-semibold text-blue-600 dark:bg-blue-500/10 dark:text-blue-200 lg:inline-flex">
                    <svg class="h-3.5 w-3.5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path d="M8.257 3.099c.765-1.36 2.72-1.36 3.485 0l1.003 1.787a1 0 00.753.518l2.058.3c1.518.221 2.126 2.086 1.026 3.156l-1.489 1.452a1 1 0 00-.287.885l.351 2.046c.259 1.514-1.33 2.668-2.676 1.953l-1.845-.969a1 1 0 00-.932 0l-1.845.97c-1.345.714-2.934-.44-2.676-1.954l.352-2.046a1 1 0 00-.287-.885L3.417 8.86c-1.1-1.07-.492-2.935 1.026-3.156l2.058-.3a1 1 0 00.753-.518l1.003-1.787z"/>
                    </svg>
                    Audited
                </span>
            </div>
            <div class="flex items-center justify-between gap-2 sm:justify-end">
                <button
                    id="prev-page"
                    type="button"
                    class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 font-medium text-gray-600 transition hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-30 dark:hover:bg-gray-700"
                >
                    <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12.293 14.707a1 1 0 010-1.414L14.586 11H5a1 1 0 110-2h9.586l-2.293-2.293a1 1 0 111.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                    </svg>
                    Previous
                </button>
                <button
                    id="next-page"
                    type="button"
                    class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-3 py-2 font-medium text-gray-600 transition hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700"
                >
                    Next
                    <svg class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd" d="M7.707 5.293a1 1 0 010 1.414L5.414 9H15a1 1 0 10 2H5.414l2.293 2.293a1 1 0 11-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>
</div>

<!-- Bulk action confirmation -->
<div id="bulk-confirm-modal" class="hidden fixed inset-0 z-40 flex items-center justify-center bg-gray-90/70 backdrop-blur-sm p-4" role="dialog" aria-modal="true" aria-labelledby="bulk-confirm-title">
    <div class="w-full max-w-md rounded-2xl bg-white p-6 shadow-2xl ring-1 ring-gray-900/5 dark:bg-gray-900 dark:ring-white/10">
        <div class="flex items-start gap-3">
            <div class="flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-amber-100 text-amber-700 dark:bg-amber-500/10 dark:text-amber-200">
                <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" d="M12 9v4m0 4h.01M4.93 19a10 10 0 0114.14 0M9.17 4.36a10 10 0 015.66 0M4.93 5a10 10 000 14"/>
                </svg>
            </div>
            <div class="space-y-2">
                <h3 id="bulk-confirm-title" class="text-lg font-semibold text-gray-900 dark:text-white">Bulk action</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">
                    Apply changes to <span id="bulk-selection-count">0</span> selected roles. This action cannot be undone without auditing each role.
                </p>
                <div class="space-y-3">
                    <label class="block text-sm font-medium text-gray-700 dark:text-gray-200" for="bulk-action-select">Choose an action</label>
                    <select id="bulk-action-select" class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-10">
                        <option value="activate">Activate roles</option>
                        <option value="deactivate">Deactivate roles</option>
                        <option value="protect">Protect roles</option>
                        <option value="unprotect">Unprotect roles</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="mt-6 flex items-center justify-end gap-3">
            <button type="button" id="bulk-cancel" class="inline-flex items-center rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 transition hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700">
                Cancel
            </button>
            <button type="button" id="bulk-confirm" class="inline-flex items-center gap-2 rounded-lg bg-blue-60 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900">
                Apply action
            </button>
        </div>
    </div>
</div>

<!-- Role modal -->
<div id="role-modal" class="hidden fixed inset-0 z-40 flex items-center justify-center bg-gray-900/70 backdrop-blur-sm p-4" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="relative w-full max-w-3xl overflow-hidden rounded-3xl bg-white shadow-2xl ring-1 ring-gray-900/10 dark:bg-gray-900 dark:ring-white/10">
        <div class="flex items-center justify-between border-b border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-800 dark:bg-gray-900/60">
            <div>
                <h2 id="modal-title" class="text-lg font-semibold text-gray-900 dark:text-white">Add new role</h2>
                <p class="text-sm text-gray-600 dark:text-gray-400">Provision a role with the appropriate permissions.</p>
            </div>
            <button type="button" id="modal-close" class="rounded-full p-2 text-gray-400 transition hover:bg-gray-100 hover:text-gray-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 dark:text-gray-500 dark:hover:bg-gray-800 dark:hover:text-gray-300" aria-label="Close modal">
                <svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 8.586l3.536-3.535a1 1 0 11.414 1.414L11.414 10l3.536 3.536a1 1 0 01-1.414 1.414L10 11.414l-3.536 3.536a1 1 0 01-1.414-1.414L8.586 10 5.05 6.464a1 1 0 011.414-1.414L10 8.586z" clip-rule="evenodd"/>
                </svg>
            </button>
        </div>
        <form id="role-form" class="space-y-8 px-6 py-6">
            <input id="role-id" type="hidden">
            <div class="grid gap-6 md:grid-cols-2">
                <div class="space-y-2">
                    <label for="role-identifier" class="text-sm font-medium text-gray-700 dark:text-gray-200">Role identifier <span class="text-red-500">*</span></label>
                    <div class="relative">
                        <input
                            id="role-identifier"
                            name="identifier"
                            type="text"
                            required
                            minlength="3"
                            class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"
                            placeholder="eg. reviewer_lead"
                        >
                    </div>
                    <p class="text-xs text-gray-500 dark:text-gray-400">Lowercase, numbers, underscore, or hyphen only.</p>
                </div>
                <div class="space-y-2">
                    <label for="role-label" class="text-sm font-medium text-gray-700 dark:text-gray-200">Display label <span class="text-red-500">*</span></label>
                    <input
                        id="role-label"
                        name="label"
                        type="text"
                        required
                        class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-10"
                        placeholder="eg. Reviewer Lead"
                    >
                </div>
                <div class="space-y-2 md:col-span-2">
                    <label for="role-description" class="text-sm font-medium text-gray-700 dark:text-gray-200">Description</label>
                    <textarea
                        id="role-description"
                        name="description"
                        rows="3"
                        class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"
                        placeholder="Outline responsibilities or usage guidance for this role."
                    ></textarea>
                </div>
                <div class="space-y-2 md:col-span-2">
                    <label for="role-status" class="text-sm font-medium text-gray-700 dark:text-gray-200">Role status</label>
                    <select
                        id="role-status"
                        name="status"
                        class="w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-100"
                    >
                        <option value="active">Active</option>
                        <option value="protected">Protected</option>
                    </select>
                </div>
            </div>
        </form>
        <div class="flex flex-col gap-3 border-t border-gray-200 bg-gray-50 px-6 py-4 dark:border-gray-800 dark:bg-gray-900/60 sm:flex-row sm:justify-end">
            <button type="button" id="cancel-role-btn" class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-600 transition hover:bg-gray-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700">
                Cancel
            </button>
            <button type="submit" form="role-form" class="inline-flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-blue-500 focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900">
                Save role
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/superadmin/super_roles.js') }}" defer></script>
{% endblock %}
